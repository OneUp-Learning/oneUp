<!DOCTYPE html>
<html lang="en">
   <head>

        {% include 'scripts.html' %}
      <script src="/static/ThirdParty/pdfmake/pdfmake.min.js"></script>
      <script src="/static/ThirdParty/pdfmake/vfs_fonts.js"></script>
      <script>
         $( document ).ready(function(){
          $(document).on('click', '.create', function(e){
        	  e.preventDefault();
        	  var student = $(this).data('student');
        	  var item = $(this).data('item');
        	  var description = $(this).data('description');
        	  var currency = $(this).data('currency');
        	  var date = $(this).data('date');
        	  var challenge = $(this).data('challenge');
        	  
        	  
        	  var docDefinition = { 
        			  pageOrientation: 'landscape',
        			  background: {image: 'data:image/png;base64,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',
        			      width: 841.5,
        			      height: 596,
        			  },

        			content: [
        		     
        		     { text: item, style: ['header', 'middle'] },
        		     { text: description, style: ['subhead', 'middle'] },
        		     {text: 'Purchase Date: '+date, style: ['middle', 'extra'], margin: [0, 100, 0 ,0]},
        		     {text: 'Purchase Price: '+currency+' VC', style: ['middle', 'extra'], margin: [0, 10, 0 ,0]},
        		     {text:'Purchased By: '+ student +'', style: ['middle', 'extra'], margin: [0, 10, 0 ,0]}
        		   ],

        		   styles: {
        		     header: {
        		       fontSize: 50,
        		       bold: true,
        		       margin: [0, 100, 0, 20]
        		     },
        		     subhead: {
        		        fontSize: 20,
        		        italic: true
        		     },
        		     middle: {
        		    	 alignment: 'center'
        		     },
        		     extra: {
        		         fontSize: 16
        		     }
        		   }
        		};
        	  if(challenge){
        		  docDefinition.content.push({text: 'For Assignment: ' + challenge +'', style: ['middle', 'extra'], margin: [0, 10, 0, 0]});
        	  }
        	  // download the PDF
        	  pdfMake.createPdf(docDefinition).download('certificate.pdf');
          });
         
          $('#transaction-type').change(function(e){
             let type = e.currentTarget.selectedOptions[0].value;
             $.getJSON('/oneUp/students/filterTransactions?transaction_type='+type, 
               function(data){
                  let transactions = data['transactions'];
                  $('#table-body').empty();
                  let result = null;
                  if(transactions.length > 0){
                     for(let transaction of transactions){
                        result = "<tr>\n" +
                              "<td>"+transaction[1]+"</td>\n"+
                              "<td>"+transaction[2]+"</td>\n"+
                              "<td>"+transaction[3]+"</td>\n"+
                              "<td>"+transaction[7]+"</td>\n"+
                              "<td>"+transaction[4]+"</td>\n"+
                              "<td><b>"+transaction[5]+"</b></td>\n"+
                              "<td>"+(transaction[0] != null ? 
                                 "<a class='waves-effect waves-light btn' href='/oneUp/students/TransactionNotes?transactionID="+transaction[0]+"'><i class='material-icons left'>visibility</i>View Note</a>": "")
                              +"</td>\n"+

                              (transaction[5] != 'Complete' && transaction[5] != 'Reverted' ? 
                              "<td class='center-align'><a class='waves-effect waves-light tooltipped create' href='#!' data-tooltip='Download' data-position='right' data-student='{{studentName}}' data-item='"+transaction[1]+"' data-description='"+transaction[2]+"' data-currency='"+transaction[4]+"' data-date='"+transaction[3]+"'"+
                              (transaction[6] != null ? "data-challenge='"+transaction[6]+"'" : "")+"><i class='material-icons left'>file_download</i></a></td>\n" :
                              "<td></td>\n")+
                           "</tr>\n";
                        $("#table-body").append(result);
                     }
                  } else {
                     result = "<tr>\n"+
                              "<td class='center-align' colspan='7'><i>No transactions</i></td>\n"+
                           "</tr>\n";
                     $("#table-body").append(result);
                  }
               } 
            );
          });
         });

      </script>
      <style>
      tbody {
         display:block;
         height:100vh;
         overflow:auto;
      }
      thead, tbody tr {
         display:table;
         width:100%;
         table-layout:fixed;
      }

      table {
         width:100%;
      }
      </style>
   </head>
   <body>
      {% include 'stheading.html' %}  
      <main>
         <div class="row center-align">
            <div class="col s12">
               <h3>Virtual Currency Transactions</h3>
            </div>
         </div>
         <div class="row">
            <div class="input-field col s12 m2 offset-m1">
               <select name="transaction-type" id="transaction-type">
                  <option value="all" id="transaction-type-all" selected>All</option>
                  <option value="spent" id="transaction-type-spent">Spent</option>
                  <option value="earned" id="transaction-type-earned">Earned</option>
               </select>
               <label for="transaction-type">Filter by Type</label>
            </div>
         </div>
         <div class="row">
            <div class="col s12 m10 offset-m1">
               <div class="card">
                  <div class="card-content">
                     <table class="responsive-table">
                        <thead>
                           <tr>
                              <th>Name</th>
                              <th>Description</th>
                              <th>Date</th>
                              <th>Type</th>
                              <th>Amount</th>
                              <th>Status</th>
                              <th>View Notes</th>
                              <th>Download Receipt</th>
                           </tr>
                        </thead>
                        <tbody id="table-body">
                           {% for transactionID, name, description, date, total, status, challenges, type in transactions %}
                           <tr>
                              <td>{{name}}</td>
                              <td>{{description}}</td>
                              <td>{{date}}</td>
                              <td>{{type}}</td>
                              <td>{{total}}</td>
                              <td><b>{{status}}</b></td>
                              <td>{% if transactionID != None %}
                                 <a class="waves-effect waves-light btn" href="/oneUp/students/TransactionNotes?transactionID={{transactionID}}"><i class="material-icons left">visibility</i>View Note</a>
                                 {% endif %}
                              </td>
                              {% if status != 'Complete' and status != 'Reverted' %}
                              <td class="center-align"><a class="waves-effect waves-light tooltipped create" href="#!" data-tooltip="Download" data-position="right" data-student="{{studentName}}" data-item="{{name}}" data-description="{{description}}" data-currency="{{total}}" data-date="{{date}}" {% if challenges != None %}data-challenge="{{challenges}}"{% endif %}><i class="material-icons left">file_download</i></a></td>
                              {% else %}
                              <td></td>
                              {% endif %}
                           </tr>
                           {% empty %}
                           <tr>
                              <td class="center-align" colspan="7"><i>No transactions</i></td>
                           </tr>
                           {% endfor %}
                        </tbody>
                     </table>
                  </div>
                  <div class="card-action right-align">
                     <a class="waves-effect waves-light btn" href="/oneUp/students/VirtualCurrencyShop"><i class="material-icons left">shop</i>Go to Couse Shop</a>
                  </div>
               </div>
            </div>
         </div>
      </main>
      {% include 'footer.html' %}
   </body>
</html>