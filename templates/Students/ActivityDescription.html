<!DOCTYPE html>
<html lang="en">
   <head>
      {% include 'scripts.html' %}
      <script>
        $(document).ready(function(){
          $('.add_more').click(function(e){
            e.preventDefault();
            $(fileupload1).after('<div id="fileupload1" class="file-field input-field">\n'+
            '<div class="btn">\n'+'<span>File</span>\n'+'<input name="actFile" type="file" multiple required/>\n'+'</div>\n'+
            '<div class="file-path-wrapper">\n'+'<input class="file-path validate" type="text" placeholder="Upload one or mote files"/>\n'+'</div>\n'+'</div>')
            document.getElementById('fileupload1').id = 'fileupload'
          });
        });
      </script>
   </head>
   <body>
      {% if is_teacher %}    
      {% include 'heading.html' %}
      {% else %}
      {% include 'stheading.html' %}
      {% endif %}
      <main>
         <div class="row center-align">
            <div class="col s12">
               <h3>{{activity.activityID.activityName}}</h3>
            </div>
         </div>
         <div class="row">
            <div class="col s12 m8 offset-m2">
               <div class="card">
                  <form id="uploadbanner" action="/oneUp/students/ActivityDescription" enctype="multipart/form-data" method="POST" >
                     <div class="card-content">
                        <div class="section">
                           <h4>Activity Description</h4>
                           <p>{{activity.activityID.description}}</p>
                        </div>
                        <div class="section">
                            <h4>Acitivty Due Date</h4>
                            <p>{{activity.activityID.endTimestamp}}</p>
                        </div>
                        <div class="section">
                           <h4>Activity Points</h4>
                           <p>Total points: {{activity.activityID.points}}</p>
                           <p>Your Score: {{activity.activityScore}}</p>
                        </div>
                        
                        <div class="section">
                           <h4>Instructor Note</h4>
                           <p>{{activity.instructorFeedback}}</p>
                        </div>
                        {% if instructorHasFiles == True%}
                        <div class="section">
                          <h4>Activity Files</h4>
                          {% for instructorFile in instructorActFiles %}
                          <p><a class="tooltipped" href="../../media/Instructors/instructorActivityFiles/{{instructorFile}}" data-position="top" data-delay="50" data-tooltip="Download" download><i class="material-icons" >file_download</i>{{instructorFile}}</a></p>
                          {% endfor %}
                        </div>
   			                {% endif %}
                        {% if canUpload == True %}
                        <div class="section">
                           <h4>Upload {{activity.activityID.activityName}}:</h4>
                           {% csrf_token %}   		
                           <input type="hidden" name="studentActivity" value="{{activity.studentActivityID}}">	
                           {%if isFile == False %}
                           <div id="fileupload1" class="file-field input-field">
                              <div class="btn">
                                 <span>File</span>
                                 <input name="actFile" type="file" multiple required>
                              </div>
                              <div class="file-path-wrapper">
                                 <input class="file-path validate" type="text" placeholder="Upload one or more files">
                              </div>
                           </div>
                           {% else %}
                           <blockquote>
                              {% for file in fileName %}       
                              {{file}},
                              {% endfor %}
                              has already been uploaded.
                           </blockquote>
                           {% endif %}
                        </div>
                        {% endif %}
                     </div>
                     <div class="card-action">
                        <div class="row right-align">
                            {% if canUpload == True and isFile == False %}
                            <a class="btn waves-effect waves-light add_more">Add More Files</a>   
                            <button class="btn waves-effect waves-light" type="submit" name="Upload">Upload
                            <i class="material-icons right">send</i>
                            </button>
                            {% endif %}
                            <a class="btn waves-effect waves-light" href="/oneUp/students/ActivityList"><i class="material-icons left">navigate_before</i>Back</a> 										  						
                        </div>
                    </div>
                  </form>
               </div>
            </div>
         </div>
         </div>
      </main>
      {% include 'footer.html' %}
   </body>
</html>