<!DOCTYPE html>
<html lang="en">
   <head>
      {% include 'scripts.html' %}
      <script>
        $(document).ready(function(){
          $('.add_more').click(function(e){
            e.preventDefault();
            $(fileupload1).after('<div id="fileupload1" class="file-field input-field">\n'+
            '<div class="btn">\n'+'<span>File</span>\n'+'<input name="actFile" type="file" multiple required/>\n'+'</div>\n'+
            '<div class="file-path-wrapper">\n'+'<input class="file-path validate" type="text" placeholder="Upload one or mote files"/>\n'+'</div>\n'+'</div>')
            document.getElementById('fileupload1').id = 'fileupload'
          });
        });
      </script>
   </head>
   <body>
      {% if is_teacher %}    
      {% include 'heading.html' %}
      {% else %}
      {% include 'stheading.html' %}
      {% endif %}
      <main>
         <div class="row center-align">
            <div class="col s12">
               <h3>{{activity.activityID.activityName}}</h3>
            </div>
         </div>
         <div class="row">
            <div class="col s12 m10 offset-m1">
               <div class="card">
                  <form id="uploadbanner" action="/oneUp/students/ActivityDescription" enctype="multipart/form-data" method="POST" >
                     <div class="card-content">
                        <div class="section">
                           <h4>Activity Description</h4>
                           <blockquote>{{activity.activityID.description}}</blockquote>
                        </div>
                        <div class="section">
                            <h4>Activity Due Date</h4>
                            <blockquote>{{activity.activityID.deadLine}}</blockquote>
                        </div>
                        <div class="section">
                           <h4>Activity Points</h4>
                           <blockquote>Your Score: {{activity.activityScore}} <br />
                           Total points: {{activity.activityID.points}}</blockquote>
                        </div>
                        <div class="section">
                           <h4>Instructor Note</h4>
                           <blockquote>{{activity.instructorFeedback}}</blockquote>
                        </div>
                        {% if instructorHasFiles == True%}
                        <div class="section">
                          <h4>Activity Files</h4>
                          <div class="collection">
                          {% for instructorFile in instructorActFiles %}
                         
                          <a class="collection-item tooltipped" href="../../media/Instructors/instructorActivityFiles/{{instructorFile}}" data-position="left" data-delay="50" data-tooltip="Download" download>
                          	<i class="material-icons secondary-content">file_download</i>{{instructorFile}}
                          </a>
                           
                          {% endfor %}
                          </div>
                        </div>
   			                {% endif %}
                        	   
                          <div class="row">
                           	<h4>Latest Files Uploaded</h4>
                          	<div class="col s12">
	                            <blockquote>
		                            {% for file in fileName %}
		                            <div class="row">
		                                <a class="oldFiles" href="#!" >{{file}}</a>
		                            </div>
		                            {% empty %}
		                            	<a class="oldFiles" href="#!" >No files uploaded</a>
		                            {% endfor %}
	                            </blockquote>
                          	</div>
                        </div>
                        
                        {% if canUpload == True %}
                        <div class="section">
                           <h4>Upload File</h4>
                           {% csrf_token %}   
                           
                           	
                           <input type="hidden" name="studentActivity" value="{{activity.studentActivityID}}">	
                           <div id="fileupload1" class="file-field input-field">
                              <div class="btn">
                                 <span>File</span>
                                 <input name="actFile" type="file" multiple required>
                              </div>
                              <div class="file-path-wrapper">
                                 <input class="file-path validate" type="text" placeholder="Upload one or more files">
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="card-action">
                        <div class="row right-align">
                            <a class="btn waves-effect waves-light add_more">Add More Files</a>   
                            <button class="btn waves-effect waves-light" type="submit" name="Upload">Upload
                            <i class="material-icons right">send</i>
                            </button>
                            <a class="btn waves-effect waves-light" href="/oneUp/students/ActivityList"><i class="material-icons left">navigate_before</i>Back</a> 										  						
                        </div>
                    </div>
                    {% else %}
                    <div class="card-action">
                       <div class="row right-align">
                       	<a class="btn waves-effect waves-light" href="/oneUp/students/ActivityList"><i class="material-icons left">navigate_before</i>Back</a> 		
                       	</div>								  						
                    </div>
                    
                   {% endif %}
                  </form>
               </div>
            </div>
         </div>
         </div>
      </main>
      {% include 'footer.html' %}
   </body>
</html>