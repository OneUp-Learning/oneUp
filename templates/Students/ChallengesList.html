<!DOCTYPE html>
<html lang="en">
   <head>
      {% include 'scripts.html' %}
   </head>
   <body>
      {% if is_teacher %}    
      {% include 'heading.html' %}
      {% else %}
      {% include 'stheading.html' %}
      {% endif %}
      <main>
         <div class="row center-align">
            <div class="col s12">
               <h3>Serious Challenges</h3>
            </div>
         </div>
         <div class="row">
            <div class="col s12 m8 offset-m2">
               <div class="card">
                  <div class="card-content">
                     <table>
                        <thead>
                           <th>Name</th>
                           <th>Score</th>
                           <th>Number of Attempts</th>
                           <th>Adjustment Reason</th>
                           <th class="secondary-content">
                              <a class="dropdown-button tooltipped" href="#!" data-constrainwidth="false" data-beloworigin="true" data-activates='dropdown1' data-position="top" data-delay="50" data-tooltip="Display"><i class="material-icons" >filter_list</i></a>
                              <ul id='dropdown1' class='dropdown-content'>
                                 <li><a href="/oneUp/students/ChallengesList?ID={{1}}{% if is_teacher %}&userID={{student}}{% endif %}">Latest Score</a></li>
                                 <li><a href="/oneUp/students/ChallengesList?ID={{2}}{% if is_teacher %}&userID={{student}}{% endif %}">Earliest Score</a></li>
                                 <li><a href="/oneUp/students/ChallengesList?ID={{3}}{% if is_teacher %}&userID={{student}}{% endif %}">Highest Score</a></li>
                                 <li><a href="/oneUp/students/ChallengesList?ID={{4}}{% if is_teacher %}&userID={{student}}{% endif %}">Lowest Score</a></li>
                              </ul>
                           </th>
                        </thead>
                        <tbody>
                           {% for i,chall_ID,chall_Name,grade,numberOfAttempts,adjusmentReason,chall_position in challenge_range %}
                           <tr>
                              <td>{{chall_Name}}</td>
                              <td>{{grade}}</td>
                              <td>{{numberOfAttempts}}</td>
                              <td>{{adjusmentReason}}</td>
                              <td class="right-align">
                                 {% if is_teacher %} 
                                 <a class="waves-effect waves-light btn" href="/oneUp/students/ChallengesTaken?challengeID={{chall_ID}}&userID={{student}}"><i class="material-icons left">visibility</i>View</a>   
                                 {% else %}
                                 <a class="waves-effect waves-light btn" href="/oneUp/students/ChallengeDescription?challengeID={{chall_ID}}"><i class="material-icons left">assignment</i>Take</a>   
                                 <a class="waves-effect waves-light btn" href="/oneUp/students/ChallengesTaken?challengeID={{chall_ID}}"><i class="material-icons left">visibility</i>View</a>   
                                 {% endif %}
                              </td>
                           </tr>
                           {% empty %}
                           <tr>
                              <td class="center-align" colspan="4">No Challenges</td>
                           </tr>
                           {% endfor %}
                        </tbody>
                     </table>
                  </div>
                  <div class="card-action right-align">
                     <div class="hide-on-med-and-up">
                        <div class="row center-align">
                           <div class="col s12">
                              <a class="waves-effect waves-light btn" href="/oneUp/students/ChallengesTaken{% if is_teacher %}?userID={{student}}{% endif %}"><i class="material-icons left">assignment_turned_in</i>View All Completed Challenges</a>
                           </div>
                        </div>
                        <div class="row center-align">
                           <div class="col s12">
                              {% if is_teacher %} 
                              <a class="waves-effect waves-light btn" href="/oneUp/instructors/studentChallengesCompleted?userID={{user}}">   
                              {% else %}
                              <a class="waves-effect waves-light btn" href="/oneUp/students/StudentCourseHome">                              
                              {% endif %}
                              <i class="material-icons left">navigate_before</i>Back</a> 
                           </div>
                        </div>
                     </div>
                     <div class="hide-on-small-only">
                        <div class="row right-align">
                           <div class="col s12">
                              <a class="waves-effect waves-light btn" href="/oneUp/students/ChallengesTaken{% if is_teacher %}?userID={{student}}{% endif %}"><i class="material-icons left">assignment_turned_in</i>View All Completed Challenges</a>
                              {% if is_teacher %} 
                              <a class="waves-effect waves-light btn" href="/oneUp/instructors/studentChallengesCompleted?userID={{user}}">   
                              {% else %}
                              <a class="waves-effect waves-light btn" href="/oneUp/students/StudentCourseHome">                              
                              {% endif %}
                              <i class="material-icons left">navigate_before</i>Back</a> 
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </main>
      {% include 'footer.html' %}
   </body>
</html>