<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      
         {% include 'scripts.html' %}
      
      <script type="text/javascript">
         function goToNewPage()
         {
             var url1 = document.getElementById('qtype').value;
             var url2 = document.getElementById('list').value;
             if(url1 != 'none') 
             {
                 window.location = url1;
                 url1='none'
             }
             else
             {
                 window.location = url2;
                 url2='none'
             }
             
         }
      </script>
		
   </head>
   <body>
      <!-- START PAGE SOURCE -->
      <div id="page-wrapper">

        {% include 'heading.html' %}
       
         <div class="frame" id="grad" align="center">
            <div class="container">
            <div class="row">
        	<div class="12u">
        {% if challenge %}
			<h1>Select Problems for <span>{{challengeName}}</span> </h1>
		{% else %}      
            <h1>Search Problems</h1> 
        {% endif %}
               <br />
                  <!-- INSERTED DYNAMIC TABLE --> 
		<form name= "question" action="/oneUp/instructors/challengeSaveSelectedQuestions" method="POST">
			{% csrf_token %}
		<input type="hidden" name="challengeID" id="challengeID" value="{{challengeID}}">
		
              {% if empty %}
                  <h3>No results were found</h3><br>
                  <a href="/oneUp/instructors/search?challengeID={{challengeID}}"><input type="button" value="Back"></a></td>
              {% else %}
		
					<table class="bg">
						<tr>
                            <th></th>
                            <th>Problem</th>
                            <th>Type</th>
                            <th>Points</th>
                            <th></th>
                        </tr>
                        
                        
		{% for i,q_ID,q_preview,q_type,q_type_name,q_difficulty,q_challengeId in question_range %}
		<tr>  
			<div id="question{{i}}">
				<td>
					<input type="checkbox" name ="selected" value="{{i}}" {{ansChecked}}>
					<input type="hidden" name="questionID{{i}}" value="{{q_ID}}">  
				</td>					
				<td> {{q_preview}}</td>
				<td> {{q_type_name}}</td>
				<td style="vertical-align:middle;">
					<input  style="border: solid 1px rgba(128, 128, 128, 0.5); width: 90px" type="text" name ="points{{i}}" value = "{{points}}">  
					<input type="hidden" name ="questionID{{i}}" value = "{{q_ID}}" required>  
				</td>	
				<td> 
				{% if q_type == 1 %}
				<a href="/oneUp/instructors/forms/MultipleChoiceForm?questionId={{q_ID}}&challengeID={{q_challengeId}}&view">
				{% elif q_type == 2 %}
				<a href="/oneUp/instructors/forms/MultipleAnswersForm?questionId={{q_ID}}&challengeID={{q_challengeId}}&view">
				{% elif q_type == 3 %}
				<a href="/oneUp/instructors/forms/MatchingForm?questionId={{q_ID}}&challengeID={{q_challengeId}}&view">
				{% elif q_type == 4 %}
				<a href="/oneUp/instructors/forms/TrueFalseForm?questionId={{q_ID}}&challengeID={{q_challengeId}}&view">
				{% elif q_type == 5 %}
				<a href="/oneUp/instructors/forms/EssayForm?questionId={{q_ID}}&challengeID={{q_challengeId}}&view">
				{% else %}
				<a href="/oneUp/instructors/challengeCreate">
				{% endif %} 
				<input type="button" value="View"></a>  
				</td>													
		</tr>				
		{% endfor %}

		</table>

    	<input type="hidden" name="challengeID" id="challengeID"
				value="{{challengeID}}">
      		<input type="submit" name="submit" value="Submit" class="button"/>
      		<button type="reset" value="Reset">Reset</button>
       	    <a href="/oneUp/instructors/search?challengeID={{challengeID}}"><input type="button" value="Back"></a>

      	{% endif %}

      	</form>
<!-- END DYNAMIC TABLE -->
         </div></div></div>
         </div>
      </div>
      <!-- Footer -->

       {% include 'footer.html' %}

      </div>
     
   </body>
</html>