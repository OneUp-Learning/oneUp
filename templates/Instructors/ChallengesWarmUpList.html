 <!DOCTYPE html>
<html lang="en">
   <head>
         {% include 'scripts.html' %} 
   </head>
   <body>

          {% include 'heading.html' %}
   <main>
        
           <div class="row center-align">
            <div class="col s12">
               <h3> Warm Up Challenges</h3>
            </div>
         </div>
         <form name="challengeOrder" action="/oneUp/instructors/reorderChallenges" method="POST">
            {% csrf_token %}
            <input type="hidden" name="courseID" value="{{courseID}}" id="courseID">	
            <input type="hidden" name="challengeType" value="Warmup" id="challengeType{{courseID}}">
         <div class="row right-align">
            <div class="col s12 m8 offset-m2">
            <a class="waves-effect waves-light btn" href="/oneUp/instructors/challengeCreate?warmUp"><i class="material-icons left">add_circle</i>Add New WarmUp Challenge</a>       
                  <button class="btn waves-effect waves-light" type="submit" name="submit">Reorder Challenges
                  <i class="material-icons right">reorder</i>
                  </button>
                  
            </div>
         </div>
		<div class="row">
            <div class="col s12 m8 offset-m2">
               <div class="card-panel">
                     {% for i,topic_ID,topic_Name,topic_Pos, challenges_count, all_challenges in topic_range %}
                     <input type="hidden" name="topicID" value="{{topic_ID}}">
                     <div class="section">
                        <h5><i class="material-icons left">layers</i>{{topic_Name}}
                           {% if all_challenges != '0' and challenges_count > 0 %}
                           <span class="badge">{{challenges_count}}</span>
                        </h5>
                        <table>
                        	<thead>
                        	<th>Name</th>
                        	<th>Visibility</th>
                        	<th>Position</th>
                        	<th></th>
                        	</thead>
                           <tbody>
                              {% for j, chall_ID,chall_Name, chall_visible,chall_position in all_challenges %}
                              <tr>
                                  <td>{{chall_Name}}</td>
                                    <td>{{chall_visible}}</td>
                                    <td>
                                    <div class="input-field col s12">
                                    <input placeholder="Points" value="{{chall_position}}" name="{{chall_ID}}" id="chall_position" maxlength="4" type="number" class="validate" min="0" required>
                              		</div>
                              		</td>
                              		<td>
		                              <form action="/oneUp/instructors/deleteChallenge?warmUp" method="POST">
		                              {% csrf_token %}
		                              <input type="hidden" name="challengeID" value="{{chall_ID}}"> 
		                              <a class="dropdown-button tooltipped secondary-content" href="#!" data-constrainwidth="false" data-beloworigin="true" data-activates='dropdown{{i}}-{{j}}' data-position="right" data-delay="50" data-tooltip="Options"><i class="material-icons">more_vert</i></a>                                
		                              <ul id='dropdown{{i}}-{{j}}' class='dropdown-content'>
		                                    <li><a href="/oneUp/instructors/challengeCreate?challengeID={{chall_ID}}&wView">View</a></li>
		                                    <li><a href="/oneUp/instructors/challengeCreate?warmUp=True&challengeID={{chall_ID}}">Edit</a></li>
		                                    <li><a href="/oneUp/instructors/challengeQuestionsList?challengeID={{chall_ID}}">Problems</a></li>
		                                    <li class="divider"></li>                         
		                                    <li><a class="modal-trigger" href="#modal_delete{{i}}-{{j}}">Delete</a></li>
		                              </ul>
		                              <div id="modal_delete{{i}}-{{j}}" class="modal">
		                                    <div class="modal-content">
		                                       <h5>Are you sure you want to delete?</h5>
		                                    </div>
		                                    <div class="modal-footer">
		                                       <a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Cancel</a>
		                                       <button class="modal-action modal-close waves-effect waves-light btn-flat"  type="submit" name="submit" value="Delete">Delete
		                                       </button>                                        
		                                    </div>
		                                 </div>
	                                </form>    
                                	</td>    
                                 </tr>
                                 {% empty %}
		                        <tr>
		                           <td class="center-align" colspan="4"><i>No Warmup Challenges Created</i></td>
		                        </tr>
                              {% endfor %}
                           </tbody>
                        </table>
                        {% else %}
                        <span class="badge">0</span>
               </h5>
               {% endif %}
               </div>
               {% empty %}
               <p>No topics</p>
               {% endfor %}
               </div>
				</div>
				</div>
				</form>
				</main>
				 
                   

       {% include 'footer.html' %}


   </body>
</html>